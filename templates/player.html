{{template "base" .}}

{{define "title"}}{{.Song.Title}}{{end}}

{{define "nav"}}
<ul class="tab tab-block">
    <li class="tab-item">
        <a href="/songs">Songs</a>
    </li>
    <li class="tab-item active">
        <a href="#">Player</a>
    </li>
    <li class="tab-item">
        <a href="/config">Config</a>
    </li>
</ul>
{{end}}

{{define "main"}}
<script>
    function play(){
        fetch('/song/{{.Song.ID}}/play')
        play_btn.classList.add("disabled")
        stop_btn.classList.remove("disabled")
    }
    function stop() {
        fetch('/song/{{.Song.ID}}/stop')
        play_btn.classList.remove("disabled")
        stop_btn.classList.add("disabled")
    }
</script>

<h1>{{.Song.Title}}</h1>
<button id="play_btn" class="btn btn-primary {{if .Player.Playing}}disabled{{end}}" onclick="play()">▶️ Play</button>
<button id="stop_btn" class="btn btn-primary {{if not .Player.Playing}}disabled{{end}}" onclick="stop()">⏸️ Stop</button>

<!--
    TODO: 
        onchange call volume change (needs created)
        set init to config (needs passed in)

    <input class="slider" type="range" min="0" max="100" value="50"> -->

{{end}}